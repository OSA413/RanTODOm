(this.webpackJsonprantodom=this.webpackJsonprantodom||[]).push([[0],{12:function(e,t,n){},15:function(e,t,n){"use strict";n.r(t);var r,i=n(1),a=n.n(i),c=n(6),l=n.n(c),s=(n(12),n(3)),o=n(2),u=n(7),d=n(5),b=n.n(d);!function(e){e[e.localstorage=0]="localstorage"}(r||(r={}));var f=function e(){Object(o.a)(this,e)};f.storageType=r.localstorage,f.storage=void 0,f.Init=function(){var e=localStorage.getItem("storageType");null!==e?f.storageType=r[e]:f.storage=new x},f.LoadData=function(){var e;return null===(e=f.storage)||void 0===e?void 0:e.LoadData()},f.SaveData=function(e){var t;return null===(t=f.storage)||void 0===t?void 0:t.SaveData(e)},f.ImportData=function(e){var t=document.createElement("input");t.type="file",t.onchange=function(){if(t.files&&t.files[0]){var n=t.files[0],r=new FileReader;r.readAsText(n,"UTF-8"),r.onload=function(t){var n;if(f.storage&&(null===(n=t.target)||void 0===n?void 0:n.result)){var r=b.a.parse(t.target.result.toString()).data.flat().filter((function(e){return e}));h.Table.list={elements:r.map((function(e,t){return{id:t,description:e}}))},f.SaveData(h.Table.Get()),e()}},r.onerror=function(e){return console.error(e)}}},t.click()},f.ExportData=function(){var e;if(f.storage){var t=null===(e=f.storage)||void 0===e?void 0:e.LoadData(),n=b.a.unparse(t.elements.map((function(e){return[e.description]}))),r=new Blob([n],{type:"text/csv;charset=utf-8"});Object(u.saveAs)(r,"My RanTODOm list.csv")}};var x=function e(){Object(o.a)(this,e),this.LoadData=function(){var e;return JSON.parse(null!==(e=localStorage.getItem("list"))&&void 0!==e?e:'{ "elements": []}')},this.SaveData=function(e){localStorage.setItem("list",JSON.stringify(e))}},j=f,v=function e(){Object(o.a)(this,e)};v.list=void 0,v.SelectedIndex=void 0,v.Get=function(){return v.list},v.Add=function(e){console.log(e),"string"===typeof e&&(e={description:e,id:Math.round(Math.random()*Number.MAX_SAFE_INTEGER)}),v.list.elements.push(e),j.SaveData(v.Get())},v.Delete=function(e){v.list.elements.splice(v.list.elements.findIndex((function(t){return t.id===e})),1),j.SaveData(v.Get())},v.Init=function(e){v.list=null!==e&&void 0!==e?e:{elements:[]}};var m=function e(){Object(o.a)(this,e)};m.Table=v,m.Init=function(){j.Init(),v.Init(j.LoadData())};var h=m,g=n.p+"static/media/plus.86fba113.svg",p=n(0),O=function(e){var t=e.update,n=(e.setSettingsVisible,function(e){var t;return null===(t=e.current)||void 0===t?void 0:t.focus()}),r=Object(i.createRef)(),a=function(){return null!==r.current&&(""!==r.current.value.trim()&&(h.Table.Add(r.current.value),r.current.value="",n(r),t(),!0))},c=function(){h.Table.SelectedIndex=Math.round(Math.random()*(h.Table.Get().elements.length-1)),t()};return Object(p.jsxs)("div",{className:"w-full fixed bottom-4 px-4 flex gap-4",children:[Object(p.jsx)("input",{type:"text",className:"input-bar",placeholder:"Enter TODO text",ref:r,autoFocus:!0,onKeyPress:function(e){return"Enter"===e.key&&(a()||c())},onBlur:function(){return setTimeout((function(){var e,t;["INPUT","SELECT"].includes(null!==(e=null===(t=document.activeElement)||void 0===t?void 0:t.tagName)&&void 0!==e?e:"")||n(r)}),500)}}),Object(p.jsx)("div",{className:"overlay-button",onClick:c,children:"\ud83c\udfb2"}),Object(p.jsx)("div",{className:"overlay-button",onClick:a,children:Object(p.jsx)("img",{src:g,alt:"+"})})]})},S=function(){var e=Object(i.useReducer)((function(e){return e+1}),0),t=Object(s.a)(e,2)[1],n=h.Table.Get().elements.map((function(e,n){return function(e,t,n){return Object(p.jsxs)("div",{className:"w-full h-16 my-2 rounded-xl text-3xl flex items-center px-4 "+(h.Table.SelectedIndex===t?"bg-gray-300":"bg-gray-100"),children:[Object(p.jsx)("div",{className:"w-12 text-right",children:t+1}),Object(p.jsx)("div",{className:"w-0.5 h-5/6 bg-gray-400 mx-3"}),Object(p.jsx)("div",{className:"",children:e.description}),Object(p.jsx)("div",{className:"ml-auto select-none cursor-pointer",onClick:function(){h.Table.SelectedIndex===t&&(h.Table.SelectedIndex=void 0),h.Table.Delete(e.id),n()},children:"\u274c"})]},t)}(e,n,t)}));return Object(p.jsx)("div",{className:"px-4",children:n})},w=function(e){var t=e.setShown;return Object(p.jsxs)("div",{className:"w-full h-16 mb-4 flex bg-blue-400 justify-between",children:[Object(p.jsx)("div",{className:"text-white font-bold self-center text-center text-xl mx-4 p-2 bg-blue-700 rounded-lg cursor-pointer",onClick:function(){t(!0)},children:"\u2699 Settings"}),Object(p.jsx)("div",{className:"text-white font-bold self-center text-center text-5xl select-none",children:"RanTODOm"}),Object(p.jsx)("div",{className:"text-white font-bold self-center text-center text-xl mx-4 p-2 bg-red-400 rounded-lg cursor-pointer",onClick:function(){window.open("https://ko-fi.com/osa413")},children:"\u2615 Donate"})]})},N=function(e){var t=e.shown,n=e.setShown,r=e.update;return t?Object(p.jsxs)("div",{className:"z-10 w-96 h-4/5 border-2 rounded-lg bg-white fixed inset-1/2 transform -translate-x-1/2 -translate-y-1/2 p-4",children:[Object(p.jsx)("div",{className:"absolute top-2 right-2 cursor-pointer",onClick:function(){return n(!1)},children:"\u274c"}),Object(p.jsxs)("div",{className:"flex flex-col gap-2",children:[Object(p.jsx)("div",{className:"text-4xl font-bold mx-auto text-center",children:"Data"}),Object(p.jsxs)("div",{className:"text-xl flex justify-between items-center",children:[Object(p.jsx)("div",{children:"Import CSV file"}),Object(p.jsx)("div",{className:"text-white font-bold self-center text-center text-base p-2 bg-blue-700 rounded-lg cursor-pointer",onClick:function(){return j.ImportData(r)},children:"Select a file..."})]}),Object(p.jsxs)("div",{className:"text-xl flex justify-between items-center",children:[Object(p.jsx)("div",{children:"Export CSV file"}),Object(p.jsx)("div",{className:"text-white font-bold self-center text-center text-base p-2 bg-blue-700 rounded-lg cursor-pointer",onClick:j.ExportData,children:"Download CSV"})]}),Object(p.jsx)("hr",{}),Object(p.jsx)("div",{className:"mx-auto text-blue-800 underline",children:Object(p.jsx)("a",{target:"_blank",href:"https://github.com/OSA413/RanTODOm",children:"Visit Repository"})})]})]}):Object(p.jsx)(p.Fragment,{})},T=function(){var e=Object(i.useReducer)((function(e){return e+1}),0),t=Object(s.a)(e,2)[1],n=Object(i.useState)(!1),r=Object(s.a)(n,2),a=r[0],c=r[1];return Object(p.jsxs)("div",{children:[Object(p.jsx)(N,{shown:a,setShown:c,update:t}),Object(p.jsx)(O,{update:t,setSettingsVisible:c}),Object(p.jsx)(w,{setShown:c}),Object(p.jsx)(S,{})]})};var D=function(){return Object(p.jsx)(T,{})},y=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0;e&&e instanceof Function&&n.e(3).then(n.bind(null,16)).then((function(t){var n=t.getCLS,r=t.getFID,i=t.getFCP,a=t.getLCP,c=t.getTTFB;n(e),r(e),i(e),a(e),c(e)}))};h.Init(),l.a.render(Object(p.jsx)(a.a.StrictMode,{children:Object(p.jsx)(D,{})}),document.getElementById("root")),y()}},[[15,1,2]]]);
//# sourceMappingURL=main.e8c534f5.chunk.js.map